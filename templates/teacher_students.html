{% extends "base.html" %}

{% block title %}Hasil Siswa - Guru{% endblock %}

{% block content %}
<h1 style="color: var(--primary-color); margin-bottom: 2rem;">üìä Hasil Siswa</h1>

<div class="card">
    <h2>Daftar Pengerjaan TO</h2>

    <div class="table-responsive">
    <table class="table">
        <thead>
            <tr>
                <th>Siswa</th>
                <th>TO</th>
                <th>Nilai</th>
                <th>Waktu Mulai</th>
                <th>Waktu Selesai</th>
                <th>Peringatan</th>
            </tr>
        </thead>
        <tbody>
            {% for attempt in attempts %}
            <tr>
                <td>{{ attempt.user.full_name }}</td>
                <td>{{ attempt.exam.title }}</td>
                <td><strong>{{ attempt.total_score }}</strong></td>
                <td>{{ attempt.started_at.strftime('%d/%m/%Y %H:%M') }}</td>
                <td>{{ attempt.finished_at.strftime('%d/%m/%Y %H:%M') if attempt.finished_at else '-' }}</td>
                <td>
                    {% if attempt.cheating_warnings > 0 %}
                        <span style="color: red;">‚ö†Ô∏è {{ attempt.cheating_warnings }}</span>
                    {% else %}
                        <span style="color: green;">‚úì Bersih</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    </div>
</div>
{% endblock %}
