{% extends "base.html" %}

{% block title %}Pembayaran - {{ exam.title }}{% endblock %}

{% block content %}
<div class="card" style="max-width: 600px; margin: 2rem auto;">
    <h2 style="text-align: center; margin-bottom: 2rem;">ðŸ’° Pembayaran TO</h2>
    
    <div style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white; padding: 2rem; border-radius: 10px; margin-bottom: 2rem;">
        <h3>{{ exam.title }}</h3>
        <h2 style="margin-top: 1rem;">Rp {{ exam.price }}</h2>
    </div>

    <form method="POST" enctype="multipart/form-data">
        <div class="form-group">
            <label>Upload Bukti Pembayaran:</label>
            <input type="file" name="payment_proof" class="form-control" accept="image/*" required>
        </div>
        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">Upload Bukti</button>
    </form>

    <div style="margin-top: 2rem; padding: 1.5rem; background: #f8f9fa; border-radius: 8px;">
        <h4 style="margin-bottom: 1rem;">ðŸ’³ Informasi Pembayaran:</h4>
        
        {% if payment_settings %}
            {% if payment_settings.payment_instructions %}
            <div style="background: white; padding: 1rem; border-radius: 8px; margin-bottom: 1rem;">
                <p style="white-space: pre-line;">{{ payment_settings.payment_instructions }}</p>
            </div>
            {% endif %}
            
            {% if payment_settings.qris_image %}
            <div style="text-align: center; margin: 1.5rem 0;">
                <h5 style="margin-bottom: 1rem;">Scan QRIS:</h5>
                <img src="{{ url_for('uploaded_file', filename='payment/' + payment_settings.qris_image) }}" 
                     style="max-width: 300px; width: 100%; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
            </div>
            {% endif %}
            
            {% if payment_settings.bank_name %}
            <div style="background: white; padding: 1rem; border-radius: 8px; margin-top: 1rem;">
                <p style="margin: 0;"><strong>{{ payment_settings.bank_name }}</strong></p>
                {% if payment_settings.account_number %}
                <p style="margin: 0.5rem 0 0 0;">No. Rek: {{ payment_settings.account_number }}</p>
                {% endif %}
                {% if payment_settings.account_name %}
                <p style="margin: 0.5rem 0 0 0;">A.n. {{ payment_settings.account_name }}</p>
                {% endif %}
            </div>
            {% endif %}
        {% else %}
            <p>Transfer ke rekening berikut:</p>
            <p><strong>Bank BCA</strong><br>No. Rek: 1234567890<br>A.n. INSPIRANET</p>
        {% endif %}
    </div>
</div>
{% endblock %}
