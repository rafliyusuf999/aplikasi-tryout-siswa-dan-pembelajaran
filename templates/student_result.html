{% extends "base.html" %}

{% block title %}Hasil Ujian{% endblock %}

{% block content %}
<div class="card" style="max-width: 800px; margin: 2rem auto; text-align: center;">
    <h1 style="color: var(--primary-color); margin-bottom: 2rem;">ðŸŽ‰ Hasil Ujian</h1>
    
    <div style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%); color: white; padding: 3rem; border-radius: 15px; margin-bottom: 2rem;">
        <h2>{{ attempt.exam.title }}</h2>
        <div style="font-size: 4rem; font-weight: bold; margin: 2rem 0;">{{ attempt.total_score }}</div>
        <p style="font-size: 1.2rem;">Nilai Anda</p>
    </div>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin: 2rem 0;">
        <div style="padding: 1.5rem; background: #f8f9fa; border-radius: 10px;">
            <h3 style="color: var(--primary-color); margin-bottom: 0.5rem;">{{ leaderboard.rank_in_branch if leaderboard else '-' }}</h3>
            <p>Ranking Cabang</p>
        </div>
        <div style="padding: 1.5rem; background: #f8f9fa; border-radius: 10px;">
            <h3 style="color: var(--primary-color); margin-bottom: 0.5rem;">{{ leaderboard.rank_global if leaderboard else '-' }}</h3>
            <p>Ranking Global</p>
        </div>
        {% if attempt.cheating_warnings > 0 %}
        <div style="padding: 1.5rem; background: #fff3cd; border-radius: 10px;">
            <h3 style="color: #856404; margin-bottom: 0.5rem;">{{ attempt.cheating_warnings }}</h3>
            <p>Peringatan</p>
        </div>
        {% endif %}
    </div>

    <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 2rem;">
        <a href="{{ url_for('student_exams') }}" class="btn btn-primary">Kembali ke Daftar TO</a>
        <a href="{{ url_for('leaderboard', exam_id=attempt.exam_id) }}" class="btn btn-secondary">Lihat Leaderboard</a>
    </div>
</div>
{% endblock %}
